<!DOCTYPE html>
<html lang="es">
  <head>
        <!-- =====================================================
          Favicons y meta de plataforma
          - Iconos para navegador y dispositivos
          ===================================================== -->
        <!-- Favicon principal -->
        <link rel="icon" type="image/png" sizes="32x32" href="img/Icono/Icono.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/Icono/Icono.png">

    <!-- Soporte para Apple -->
    <link rel="apple-touch-icon" href="img/Icono/Icono.png">

    <!-- Color de fondo para Windows / Android -->
    <meta name="theme-color" content="#000000">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrito de Compras</title>
        <!-- =====================================================
          Fuentes y estilos
          - Carga de estilos y scripts principales
          ===================================================== -->
        <link rel="stylesheet" href="CSS/style.css">
        <script src="JS/productos.js" defer></script>
        <script src="JS/favoritos.js" defer></script>
        <script src="JS/carrito.js" defer></script>
  </head>

  <body>
    <nav class="navbar">
      <a href="index.html">Inicio</a>
      <a href="favoritos.html">Favoritos</a>
      <a href="ganadores.html">Ganadores</a>
        <!-- Nuevo Menú Desplegable "Más" -->
    <div class="dropdown" id="navDropdown">
      <button class="dropbtn" id="btnMas">
        Más <span class="arrow-icon"></span>
      </button>

      <div class="dropdown-content" id="menuMas">
        <a href="servicios.html">Servicios</a>
        <a href="rifas.html">Rifas</a>
      </div>
    </div>
        
       <a href="carrito.html" class="nav-carrito-link">
         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true">
           <circle cx="9" cy="20" r="1"></circle>
           <circle cx="20" cy="20" r="1"></circle>
           <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h7.72a2 2 0 0 0 2-1.61L23 6H6"></path>
         </svg>
         <span id="contador-carrito"></span>
       </a>
    </nav>

    <header>
      <h1 class="titulo-principal">Carrito de Compras</h1>
      <h2 class="subtitulo">Por la compra de 3 productos o más se te hará un descuento del 10%!!
      </h2>
    </header>

    <!-- Encabezado con total y botón -->
    <div class="carrito-header">
      <span id="total">Total: $0.00</span>
      <button id="btn-comprar">Comprar</button>
    </div>

    <!-- Contenedor de productos -->
    <div id="lista-carrito"></div>
    
    <!-- Modal de pago -->
    <div id="payment-modal" class="payment-modal" aria-hidden="true">
      <div class="payment-modal-content" role="dialog" aria-modal="true" aria-labelledby="payment-title">
        <button id="payment-close" class="payment-close" aria-label="Cerrar ventana">×</button>
        <h2 id="payment-title">Selecciona método de pago</h2>

        <div class="payment-methods">
          <label><input type="radio" name="metodo-pago" value="card" checked> Tarjeta (débito / crédito)</label>
          <label><input type="radio" name="metodo-pago" value="transfer"> Transferencia bancaria</label>
        </div>

        <div id="form-card" class="payment-form">
          <p>Al elegir tarjeta serás redirigido al sitio de pago seguro (PayPhone) para completar la transacción. Se aplica un 5% de comisión adicional. NO olvidar de pasar comprobante.</p>
          <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap">
            <button id="pay-card" class="payment-btn">Pagar <span id="pay-amount">$0.00</span></button>
            <button id="send-proof" class="payment-btn secondary">Mandar comprobante</button>
          </div>
        </div>

        <div id="form-transfer" class="payment-form" style="display:none">
          <p>Por favor realiza la transferencia a:</p>
          <p><strong>Banco:</strong> Banco Pichincha</p>
          <p><strong>Cuenta:</strong> 1234567890</p>
          <p><strong>Titular:</strong> Nombre</p>
          <p><strong>--------------------------------------------------</strong></p>
          <p><strong>Banco:</strong> Banco Guayaquil</p>
          <p><strong>Cuenta:</strong> 1234567890</p>
          <p><strong>Titular:</strong> Nombre</p>
          <p><strong>NO olvidar de pasar comprobante.</strong></p>
          <button id="confirm-transfer" class="payment-btn">He realizado la transferencia</button>
        </div>

        <div class="terms-row">
          <label>
            <input type="checkbox" id="accept-terms">
            <span class="terms-main">He leído y estoy de acuerdo con los <a href="terminos.html" target="_blank" class="terms-link">términos y condiciones</a> de la web <span class="required">*</span></span>
          </label>
        </div>
        <div id="payment-result" class="payment-result" aria-live="polite"></div>
      </div>
    </div>
  </body>
    </html>